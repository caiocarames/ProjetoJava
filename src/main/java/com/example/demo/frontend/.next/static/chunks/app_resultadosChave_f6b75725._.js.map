{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/resultadosChave/PaginaKRS.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"KRS\": \"PaginaKRS-module__cDuGxG__KRS\",\n  \"add_button\": \"PaginaKRS-module__cDuGxG__add_button\",\n  \"add_obj\": \"PaginaKRS-module__cDuGxG__add_obj\",\n  \"button_desa\": \"PaginaKRS-module__cDuGxG__button_desa\",\n  \"buttons\": \"PaginaKRS-module__cDuGxG__buttons\",\n  \"card\": \"PaginaKRS-module__cDuGxG__card\",\n  \"filtroContainer\": \"PaginaKRS-module__cDuGxG__filtroContainer\",\n  \"filtroTitulo\": \"PaginaKRS-module__cDuGxG__filtroTitulo\",\n  \"header\": \"PaginaKRS-module__cDuGxG__header\",\n  \"ini_titulo\": \"PaginaKRS-module__cDuGxG__ini_titulo\",\n  \"kr\": \"PaginaKRS-module__cDuGxG__kr\",\n  \"kr_titulo\": \"PaginaKRS-module__cDuGxG__kr_titulo\",\n  \"lista_bola\": \"PaginaKRS-module__cDuGxG__lista_bola\",\n  \"lista_num\": \"PaginaKRS-module__cDuGxG__lista_num\",\n  \"pendente\": \"PaginaKRS-module__cDuGxG__pendente\",\n  \"porcentagem_ini\": \"PaginaKRS-module__cDuGxG__porcentagem_ini\",\n  \"porcentagem_kr\": \"PaginaKRS-module__cDuGxG__porcentagem_kr\",\n  \"progress\": \"PaginaKRS-module__cDuGxG__progress\",\n  \"progress_bar_ini\": \"PaginaKRS-module__cDuGxG__progress_bar_ini\",\n  \"progress_bar_kr\": \"PaginaKRS-module__cDuGxG__progress_bar_kr\",\n  \"select\": \"PaginaKRS-module__cDuGxG__select\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Caio%20Carames/OneDrive/Desktop/JAVA-TRABALHO/sandbox%20_meu/app/resultadosChave/PaginaKRS.jsx"],"sourcesContent":["\"use client\"\nimport Link from \"next/link\";\nimport styles from \"./PaginaKRS.module.css\";\nimport { useEffect, useState } from \"react\";\n\nexport default function PaginaKRS() {\n  // Criação do estado para armazenar os resultadosChave\n  const [resultadosChave, setResultadosChave] = useState([]);\n  const [selectedId, setSelectedId] = useState(\"Todos\");\n\n  // Função para chamar a API e buscar os resultadosChave\n  async function chamarAPIResultadosChave() {\n    const URL = \"http://localhost:8080/resultadosChave\";\n    try {\n      const resp = await fetch(URL);\n      if (resp.status === 200) {\n        const resultadosChave = await resp.json(); // Resposta da API\n        setResultadosChave(resultadosChave); // aqui salva os dados no estado\n        console.log(resultadosChave)\n      } else {\n        console.error('Erro ao buscar iniciativas:', resp.status);\n      }\n    } catch (error) {\n      console.error('Erro na requisição:', error);\n    }\n  }\n\n  // Função para dar o delete de algum resultados chave\n  async function chamarAPIDeleteResultadosChave(id) { // Precisa receber como parâmetro qual id o usuário quer apagar\n    const URL = `http://localhost:8080/resultadosChave/${id}`;\n    try {\n      const resp = await fetch(URL, {\n        method: \"DELETE\",\n      });\n\n      if (resp.ok) {\n        alert(\"Resultado Chave deletado com sucesso!\");\n        chamarAPIResultadosChave(); // da o get novamente para recarregar a página\n      } else {\n        console.error('Erro ao dar delete de um resultado chave:', resp.status);\n      }\n    } catch (error) {\n      console.error('Erro na requisição:', error);\n    }\n  }\n\n  // Função para desassociar uma iniciativa\n    async function chamarAPIDesassociarIni(id_kr, id_ini) {\n      const URL = `http://localhost:8080/resultadosChave/${id_kr}/desassociarIni/${id_ini}`;\n      try {\n        const resp = await fetch(URL, { \n          method: 'DELETE' \n        });\n        if (resp.status === 200 || resp.status === 204) {\n          alert(\"Iniciativa desassociada com sucesso!\");\n          setIdIniciativaDesassociar('');\n          chamarAPIResultadosChave();\n        } else {\n          console.error('Erro ao desassociar iniciativa:', resp.status);\n        }\n      } catch (error) {\n        console.error('Erro na requisição:', error);\n      }\n    }\n\n  // Hook useEffect para chamar a API assim que o componente for montado (isso faz com que não precise chamar toda hora a API pra recarregar a pagina)\n  useEffect(() => {\n    chamarAPIResultadosChave();\n  }, []);\n\n  // Função para filtrar pelo select\n  const filtragem = (e) => {\n    setSelectedId(e.target.value);\n  };\n\n  return (\n    <div className=\"fundo\">\n      <h1 className={styles.KRS}>Resultados Chave</h1>\n      <Link href=\"/CadastroKRS\">\n        <button className={styles.add_button}>+</button>\n      </Link>\n      <strong>\n        <p className={styles.add_obj}>Adicionar Resultado Chave</p>\n      </strong>\n\n      {/*KR 1*/}\n      {resultadosChave.filter(resultadosChave => selectedId === \"Todos\" || resultadosChave.id_kr === Number(selectedId)).map((resultadosChave) => (\n      <div className={styles.card}>\n        <div className={styles.header}>\n          <div className={styles.buttons}>\n            <Link href=\"/AtualizarKRS\">\n              {\" \"}\n              <button>Editar</button>\n            </Link>\n            <button onClick={() => chamarAPIDeleteResultadosChave(resultadosChave.id_kr)}>Excluir</button>\n          </div>\n        </div>\n\n        <div className={styles.kr}>\n          <strong>ID:</strong>{resultadosChave.id_kr}\n          <div className={styles.kr_titulo}>\n            {resultadosChave.descricao} <span> {resultadosChave.meta}</span>{\" \"}\n            <span className={styles.porcentagem_kr}>{resultadosChave.porcentagem_conclusao_kr}%</span>\n          </div>\n\n          <div className={styles.progress_bar_kr}>\n            <div className={styles.progress} style={{ width: `${resultadosChave.porcentagem_conclusao_kr}%` }}></div>\n          </div>\n          {/* Map para Cada Iniciativa de cada KR */}\n          <ul className={styles.lista_bola}>\n             {resultadosChave.iniciativas.map((iniciativa) => (\n              <li className={styles.lista_num}>\n              <p className={styles.ini_titulo}>-{iniciativa.titulo}</p>\n              <span className={styles.porcentagem_ini}>{iniciativa.porcentagem_conclusao_iniciativa}%</span>\n              {/* Campo adicional para desassociar uma iniciativa */}\n              <div className={styles.button_desa}>\n                <button onClick={() => chamarAPIDesassociarIni(resultadosChave.id_kr, iniciativa.id_iniciativas)}>Desassociar</button>\n              </div>\n              <div className={styles.progress_bar_ini}>\n                <div className={styles.progress} style={{ width: `${iniciativa.porcentagem_conclusao_iniciativa}%` }}></div>\n              </div>\n              </li>\n              ))}\n          </ul>\n        </div>\n      </div>\n      ))}\n      {/* Filtragem */}\n      <div className={styles.filtroContainer}>\n        <h3 className={styles.filtroTitulo}>Filtrar por ID</h3>\n        <select\n          id=\"filtro\"\n          name=\"resultadosChave\"\n          onChange={filtragem}\n          value={selectedId}\n          className={styles.select}\n        >\n          <option key=\"Todos\" value=\"Todos\">Todos</option>\n          {resultadosChave.map((resultadosChave) => (\n            <option key={resultadosChave.id_kr} value={resultadosChave.id_kr}>\n              {resultadosChave.id_kr}\n            </option>\n          ))}\n        </select>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 401, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}